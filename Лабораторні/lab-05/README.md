[Перелік усіх робіт](README.md)

# Лабораторна робота №5. Передача даних між HTML-формою та PHP-сценарієм

## Мета роботи

Навчитися обробляти та отримувати дані з html-форми за допомогою PHP

## Обладнання

Персональний комп'ютер. Пакет програм XAMPP. Текстовий редактор Sublime Text 3 або IDE NetBeans. Web-браузер Chrome, Firefox, Opera

## Хід роботи

1.  Впевнитись, що пакет XAMPP встановлено та web-сервер Apache запущений
2.  Перейти до каталогу `C:\xampp\htdocs\` та очистити його
3.  Створіть нову форму. Для цього визначте файл `index.php`, в який помістіть наступний вміст:

```html   
<!DOCTYPE html>
<html>
    <head> 
        <meta charset="utf-8"> 
        <title>LR 5</title>
    </head> 
    <body> 
        <h1>Вхід</h1> 
        <form action="login.php" method="POST">
            <div>
                Логін: <input type="text" name="login">
            </div>
            <div>
                Пароль: <input type="text" name="password">
            </div>
            <div>
                <input type="submit" value="Увійти">
            </div>
        </form>
    </body> 
</html> 
```


4.  Збережіть файл та зверніть увагу на атрибути тегу form
5.  Тепер створіть файл `login.php`, який буде мати такий зміст:

```php
<?php
$login = "";
$password = "";
    if(isset($_POST['login'])) $login = $_POST['login'];
    if (isset($_POST['password'])) $password = $_POST['password'];    
echo "Ваш логін: $login <br> Ваш пароль: $password"; 
?> 
```
  
Ми можемо звернутися до форми і після натискання кнопки введені дані методом POST будуть відправлені скрипту `login.php`.

6. Необов'язково відправляти дані форми іншому скрипту, їх можна обробити в тому ж файлі. Для цього змініть файл form.php наступним чином:

```php
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LR 5</title>
</head>
<body>

    <h1>Вхід на сайт</h1>

    <div>
        <?php
        $login = isset($_POST['login']) ? htmlspecialchars($_POST['login']) : "";
        $password = isset($_POST['password']) ? htmlspecialchars($_POST['password']) : "";

        if ($login || $password) {
            echo "<p>Ваш логін: $login</p>";
            echo "<p>Ваш пароль: $password</p>";
        }
        ?>
    </div>

    <form method="POST">
        <div>
            Логін: <input type="text" name="login" required>
        </div>
        <div>
            Пароль: <input type="text" name="password" required>
        </div>
        <div>
            <input type="submit" value="Увійти">
        </div>
    </form>

</body>
</html>
```

7. Модифікувати сценарій наступним чином: 
   - Створити асоціативний масив, що містить дані про користувачів (логін, пароль, ім'я користувача) і заповнити його кількома наборами даних
   - У разі успішної авторизації, повідомити користувача
   - Зробити рефакторінг коду наступним чином: форму входу та конфігурації з логінами та паролями зберегти в окремомих файлах та під'єднати їх у файл `index.php` за допомогою інструкції `include` або `require`
   - Вдосконалити систему авторизації: зберегти паролі у хешованому вигляді. Для хешування паролів використати алгоритм bcrypt або md5. Для хешування паролів використати онлайн-сервіс [Bcrypt-generator](https://bcrypt-generator.com/) або будь-який інший.
8.  Виконати завдання самостійно:
    - Створити форму зворотнього зв'язку, де вказати ім'я, почту та текст повідомлення. Вивести дані отримані із форми.
    - Додати до форми поле завантаження файлу. Вивести на екран основні параметри файлу, отримані із глобальної змінної `$_FILES`.
    - Cтворити механізм перевірки правильності вводу даних у формі.
    - Обробити можливі помилки та попередження.
9.  Впевнится, що всі вихідні HTML-сторінки є валідними, використавши валідатор HTML-коду [validator.w3.org](https://validator.w3.org/). За необхідності, виправити помилки та зауваження.
10. Для кожного етапу роботи зробити знімки екрану та додати їх у звіт з описом кожного скіншота.
11. Додати програмний код завдання для самомтійного виконання
12. Дати відповіді на контрольні запитання
13. Зберегти звіт у форматі PDF

## Контрольні питання

1.  Які існують методи передачі даних із html-форми в PHP?
2.  Що таке суперглобальні змінні?
3.  Для чого слугує функція `isset()`?
4.  Які дані знаходяться в суперглобальних змінних?
5.  Що міститься в змінних `$_GET`, `$_POST`, `$_REQUEST`?
6.  Для чого потрібно зберігати пароль у вигляді хешу?
7.  Який недолік в збереженні облікових даних входу у масиві?

## Довідники та додаткові матеріали

1. [Суперглобальные переменные](https://www.php.net/manual/ru/language.variables.superglobals.php)
2. [Предопределённые переменные](https://www.php.net/manual/ru/reserved.variables.php)
3. [$_FILES](https://www.php.net/manual/en/reserved.variables.files)
4. [Загрузка файлов методом POST](https://www.php.net/manual/ru/features.file-upload.post-method.php)
5. [PHP и Upload (Загрузка файлов на сервер)](http://sites.znu.edu.ua/webprog/lect/1217.ukr.html)